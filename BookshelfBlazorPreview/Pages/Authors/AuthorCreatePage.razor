@page "/authorcreate"

@using Bookshelf.ViewModel.Page
@using Microsoft.AspNetCore.Components
@using Bookshelf

@inject ApiClient apiClient
@inject NavigationManager  uriHelper

<h1>@vm.Title</h1>

<table>
    <tr>
        <td></td>
        <td style="color:red">@vm.FirstNameMessage</td>
    </tr>
    <tr>
        <td>Prénom</td>
        <td><input type="text" bind="@vm.FirstName" /></td>
    </tr>
    <tr>
        <td></td>
        <td style="color:red">@vm.LastNameMessage</td>
    </tr>
    <tr>
        <td>Nom</td>
        <td><input type="text" bind="@vm.LastName" /></td>
    </tr>
    <tr>
        <td rowspan="2"><button @onclick="vm.Ajouter">Ajouter</button></td>
    </tr>
</table>

@functions{
    AuthorCreatePageViewModel vm = null;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        vm = new AuthorCreatePageViewModel(uriHelper, apiClient);
    }

    protected override async Task OnInitializedAsync()
    {
    }
}